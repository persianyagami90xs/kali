#!/bin/bash

# Generated by Chef! Do not edit, your changes will be overriden!
#
# Cookbook:: kali
# Template:: hud
#

#Custom Terminal HUD To Display Current System Information | Kali Linux Only
#Author | Haccmann - original script
#Author | Sliim - customized
#No fancy shit | Just Code

whoami=$(whoami)
hostname=$(hostname)
distro=$(lsb_release -d | cut -d":" -f2)
architecture=$(arch)
architecture1=$(getconf LONG_BIT)bit
kernel=$(uname -v | awk '{print $4, $5}')
desktop=$(echo $XDG_DATA_DIRS | grep -Eo 'xfce|kde|gnome'); test -z $desktop && desktop=$WINDOW_MANAGER
bash=$(bash --version | grep -m 1 "GNU" | cut -d"(" -f1 | awk '{print $4}')
zsh=$(zsh --version | cut -d" " -f2)
cpu=$(grep -m 1 "model name" /proc/cpuinfo | cut -d: -f2 | awk '{print $1, $2, $3, $4}')
cpu1=$(grep -m 1 "model name" /proc/cpuinfo | cut -dU -f2 | awk '{print $1, $2, $3, $4}')
cpu2=$(grep -c "processor" /proc/cpuinfo)
memory=$(cat /proc/meminfo | head -1 | awk '{print $2}')
memory1=$(echo "scale=3;${memory%/*}/1024/1024" | bc)
disk=$(df -h | grep -E "\/$" | awk '{print $3}')
disk1=$(df -h | grep -E "\/$" | awk '{print $2}')
ram=$(free -m | grep -i "mem:" | awk '{print $3}')MB
ram1=$(free -m | grep -i "mem:" | awk '{print $2}')MB
status_up="\e[1;92m•\e[1;34m"
status_down="\e[1;91m•\e[0m"

<% count = 0 %>
<% @services.each do |title, check_cmd| %>
service_<%= count %>="$(ps aux | grep -E "<%= check_cmd %>" | grep -v grep 2>&1 >/dev/null&&echo $status_up||echo $status_down) <%= title %>"
<% count += 1 %>
<% end %>

###############
# HUD Display #
###############

echo -e "\e[1;34m8N    8  N888
888   88   D88  \e[1;91m$distro $architecture $architecture1\e[1;34m
8888N D88    88D           Kernel:\e[0m $kernel\e[1;34m
8888888888D   88ON         Desktop:\e[0m $desktop\e[1;34m
888888888888   NNN         Shellz:\e[0m Bash $bash\e[1;34m\e[0m - Zsh $zsh\e[1;34m
8888888888888N
D8888888888888888888     CPU:\e[0m $cpu\e[1;34m
   N88888888888888888        \e[0m $cpu1 x $cpu2\e[1;34m
       N88888888888888   RAM:\e[0m $ram\e[1;34m/\e[0m$ram1 \e[1;34m
        888888888888888  Disk:\e[0m $disk\e[1;34m/\e[0m$disk1\e[1;34m
        88888888888DD88
        88888888888N 88D
        8888888888888ND88   Services:   $service_0\t$service_10\e[1;34m
        N88888888888888888              $service_1\t$service_11\e[1;34m
            D888888888888               $service_2\t$service_12\e[1;34m
                N888888888OD            $service_3\t$service_13\e[1;34m
                   N888888888N          $service_4\t$service_14\e[1;34m
                     N88888888O8N       $service_5\t$service_15\e[1;34m
                       8888888888888DD  $service_6\t$service_16\e[1;34m
                        D8888888888888  $service_7\t$service_17\e[1;34m
                          8888888888D   $service_8\t$service_18\e[1;34m
                           D888888      $service_9\t$service_19\e[1;34m
                            8888D
=======  Networks  ======== N88D\e[0m"
ip -o a | grep "inet "|grep -v "lo " |awk '{print "\033[1;34m=> " $2 ": \033[0m" $4}'
echo
